<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>websocket</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.0/
jquery.min.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">
        $(function() {
                var ws;
                var svcUrl = "ws://127.0.0.1:5900";

                if ("WebSocket" in window) {
                        ws = new WebSocket(svcUrl);

                        // callbacks
                        ws.onopen = function() {
                                // connected to server, can send messages now
                        };

                        // messages from the server
                        ws.onmessage = function (evt) {
                                var received_msg = evt.data;
                                $("#outdiv").append(received_msg + '<br/>');
                        };

                        ws.onclose = function() {};

                } else {
                  // the browser doesn't support WebSocket.
                }

                $("#send").click(function() {
                        ws.send("Send Data Clicked!");
                });
        });
        </script>
</head>
<body>
        <button id="send">Send Data</button>
        <div id="outdiv">
        </div>
</body>
</html>
